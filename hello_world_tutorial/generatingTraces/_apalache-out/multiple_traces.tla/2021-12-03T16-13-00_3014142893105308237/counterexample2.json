{
  "name": "ApalacheIR",
  "version": "1.0",
  "description": "https://apalache.informal.systems/docs/adr/005adr-json.html",
  "modules": [
    {
      "kind": "TlaModule",
      "name": "counterexample",
      "declarations": [
        {
          "type": "Untyped",
          "kind": "TlaOperDecl",
          "name": "ConstInit",
          "formalParams": [
            
          ],
          "isRecursive": false,
          "body": {
            "type": "Untyped",
            "kind": "ValEx",
            "value": {
              "kind": "TlaBool",
              "value": true
            }
          }
        },
        {
          "type": "Untyped",
          "kind": "TlaOperDecl",
          "name": "State0",
          "formalParams": [
            
          ],
          "isRecursive": false,
          "body": {
            "type": "Untyped",
            "kind": "OperEx",
            "oper": "AND",
            "args": [
              {
                "type": "Untyped",
                "kind": "OperEx",
                "oper": "EQ",
                "args": [
                  {
                    "type": "Untyped",
                    "kind": "NameEx",
                    "name": "auxiliary_str"
                  },
                  {
                    "type": "Str",
                    "kind": "ValEx",
                    "value": {
                      "kind": "TlaStr",
                      "value": "foo"
                    }
                  }
                ]
              },
              {
                "type": "Untyped",
                "kind": "OperEx",
                "oper": "EQ",
                "args": [
                  {
                    "type": "Untyped",
                    "kind": "NameEx",
                    "name": "important_int"
                  },
                  {
                    "type": "Int",
                    "kind": "ValEx",
                    "value": {
                      "kind": "TlaInt",
                      "value": 0
                    }
                  }
                ]
              }
            ]
          }
        },
        {
          "type": "Untyped",
          "kind": "TlaOperDecl",
          "name": "State1",
          "formalParams": [
            
          ],
          "isRecursive": false,
          "body": {
            "type": "Untyped",
            "kind": "OperEx",
            "oper": "AND",
            "args": [
              {
                "type": "Untyped",
                "kind": "OperEx",
                "oper": "EQ",
                "args": [
                  {
                    "type": "Untyped",
                    "kind": "NameEx",
                    "name": "auxiliary_str"
                  },
                  {
                    "type": "Str",
                    "kind": "ValEx",
                    "value": {
                      "kind": "TlaStr",
                      "value": "foo"
                    }
                  }
                ]
              },
              {
                "type": "Untyped",
                "kind": "OperEx",
                "oper": "EQ",
                "args": [
                  {
                    "type": "Untyped",
                    "kind": "NameEx",
                    "name": "important_int"
                  },
                  {
                    "type": "Int",
                    "kind": "ValEx",
                    "value": {
                      "kind": "TlaInt",
                      "value": 3
                    }
                  }
                ]
              }
            ]
          }
        },
        {
          "type": "Untyped",
          "kind": "TlaOperDecl",
          "name": "State2",
          "formalParams": [
            
          ],
          "isRecursive": false,
          "body": {
            "type": "Untyped",
            "kind": "OperEx",
            "oper": "AND",
            "args": [
              {
                "type": "Untyped",
                "kind": "OperEx",
                "oper": "EQ",
                "args": [
                  {
                    "type": "Untyped",
                    "kind": "NameEx",
                    "name": "auxiliary_str"
                  },
                  {
                    "type": "Str",
                    "kind": "ValEx",
                    "value": {
                      "kind": "TlaStr",
                      "value": "foo"
                    }
                  }
                ]
              },
              {
                "type": "Untyped",
                "kind": "OperEx",
                "oper": "EQ",
                "args": [
                  {
                    "type": "Untyped",
                    "kind": "NameEx",
                    "name": "important_int"
                  },
                  {
                    "type": "Int",
                    "kind": "ValEx",
                    "value": {
                      "kind": "TlaInt",
                      "value": 6
                    }
                  }
                ]
              }
            ]
          }
        },
        {
          "type": "Untyped",
          "kind": "TlaOperDecl",
          "name": "State3",
          "formalParams": [
            
          ],
          "isRecursive": false,
          "body": {
            "type": "Untyped",
            "kind": "OperEx",
            "oper": "AND",
            "args": [
              {
                "type": "Untyped",
                "kind": "OperEx",
                "oper": "EQ",
                "args": [
                  {
                    "type": "Untyped",
                    "kind": "NameEx",
                    "name": "auxiliary_str"
                  },
                  {
                    "type": "Str",
                    "kind": "ValEx",
                    "value": {
                      "kind": "TlaStr",
                      "value": "foo"
                    }
                  }
                ]
              },
              {
                "type": "Untyped",
                "kind": "OperEx",
                "oper": "EQ",
                "args": [
                  {
                    "type": "Untyped",
                    "kind": "NameEx",
                    "name": "important_int"
                  },
                  {
                    "type": "Int",
                    "kind": "ValEx",
                    "value": {
                      "kind": "TlaInt",
                      "value": 7
                    }
                  }
                ]
              }
            ]
          }
        },
        {
          "type": "Untyped",
          "kind": "TlaOperDecl",
          "name": "State4",
          "formalParams": [
            
          ],
          "isRecursive": false,
          "body": {
            "type": "Untyped",
            "kind": "OperEx",
            "oper": "AND",
            "args": [
              {
                "type": "Untyped",
                "kind": "OperEx",
                "oper": "EQ",
                "args": [
                  {
                    "type": "Untyped",
                    "kind": "NameEx",
                    "name": "auxiliary_str"
                  },
                  {
                    "type": "Str",
                    "kind": "ValEx",
                    "value": {
                      "kind": "TlaStr",
                      "value": "foo"
                    }
                  }
                ]
              },
              {
                "type": "Untyped",
                "kind": "OperEx",
                "oper": "EQ",
                "args": [
                  {
                    "type": "Untyped",
                    "kind": "NameEx",
                    "name": "important_int"
                  },
                  {
                    "type": "Int",
                    "kind": "ValEx",
                    "value": {
                      "kind": "TlaInt",
                      "value": 10
                    }
                  }
                ]
              }
            ]
          }
        },
        {
          "type": "Untyped",
          "kind": "TlaOperDecl",
          "name": "InvariantViolation",
          "formalParams": [
            
          ],
          "isRecursive": false,
          "body": {
            "type": "Untyped",
            "kind": "LetInEx",
            "body": {
              "type": "Bool",
              "kind": "LetInEx",
              "body": {
                "type": "Bool",
                "kind": "LetInEx",
                "body": {
                  "type": "Bool",
                  "kind": "OperEx",
                  "oper": "OPER_APP",
                  "args": [
                    {
                      "type": "(() => Bool)",
                      "kind": "NameEx",
                      "name": "Behavior$2$_skolem"
                    }
                  ]
                },
                "decls": [
                  {
                    "type": "(() => Bool)",
                    "kind": "TlaOperDecl",
                    "name": "Behavior$2$_skolem",
                    "formalParams": [
                      
                    ],
                    "isRecursive": false,
                    "body": {
                      "type": "Bool",
                      "kind": "OperEx",
                      "oper": "AND",
                      "args": [
                        {
                          "type": "Bool",
                          "kind": "OperEx",
                          "oper": "EQ",
                          "args": [
                            {
                              "type": "Int",
                              "kind": "OperEx",
                              "oper": "FUN_APP",
                              "args": [
                                {
                                  "type": "[auxiliary_str: Str, important_int: Int]",
                                  "kind": "OperEx",
                                  "oper": "OPER_APP",
                                  "args": [
                                    {
                                      "type": "(() => [auxiliary_str: Str, important_int: Int])",
                                      "kind": "NameEx",
                                      "name": "last_state$2"
                                    }
                                  ]
                                },
                                {
                                  "type": "Str",
                                  "kind": "ValEx",
                                  "value": {
                                    "kind": "TlaStr",
                                    "value": "important_int"
                                  }
                                }
                              ]
                            },
                            {
                              "type": "Int",
                              "kind": "ValEx",
                              "value": {
                                "kind": "TlaInt",
                                "value": 10
                              }
                            }
                          ]
                        },
                        {
                          "type": "Bool",
                          "kind": "OperEx",
                          "oper": "FORALL3",
                          "args": [
                            {
                              "type": "Int",
                              "kind": "NameEx",
                              "name": "i$2"
                            },
                            {
                              "type": "Set(Int)",
                              "kind": "OperEx",
                              "oper": "DOMAIN",
                              "args": [
                                {
                                  "type": "Seq([auxiliary_str: Str, important_int: Int])",
                                  "kind": "OperEx",
                                  "oper": "OPER_APP",
                                  "args": [
                                    {
                                      "type": "((Seq([auxiliary_str: Str, important_int: Int])) => Bool)",
                                      "kind": "NameEx",
                                      "name": "Call_trace"
                                    }
                                  ]
                                }
                              ]
                            },
                            {
                              "type": "Bool",
                              "kind": "OperEx",
                              "oper": "OR",
                              "args": [
                                {
                                  "type": "Bool",
                                  "kind": "OperEx",
                                  "oper": "AND",
                                  "args": [
                                    {
                                      "type": "Bool",
                                      "kind": "OperEx",
                                      "oper": "EQ",
                                      "args": [
                                        {
                                          "type": "Int",
                                          "kind": "OperEx",
                                          "oper": "MOD",
                                          "args": [
                                            {
                                              "type": "Int",
                                              "kind": "NameEx",
                                              "name": "i$2"
                                            },
                                            {
                                              "type": "Int",
                                              "kind": "ValEx",
                                              "value": {
                                                "kind": "TlaInt",
                                                "value": 2
                                              }
                                            }
                                          ]
                                        },
                                        {
                                          "type": "Int",
                                          "kind": "ValEx",
                                          "value": {
                                            "kind": "TlaInt",
                                            "value": 0
                                          }
                                        }
                                      ]
                                    },
                                    {
                                      "type": "Bool",
                                      "kind": "OperEx",
                                      "oper": "EQ",
                                      "args": [
                                        {
                                          "type": "Int",
                                          "kind": "OperEx",
                                          "oper": "MOD",
                                          "args": [
                                            {
                                              "type": "Int",
                                              "kind": "OperEx",
                                              "oper": "FUN_APP",
                                              "args": [
                                                {
                                                  "type": "[auxiliary_str: Str, important_int: Int]",
                                                  "kind": "OperEx",
                                                  "oper": "FUN_APP",
                                                  "args": [
                                                    {
                                                      "type": "Seq([auxiliary_str: Str, important_int: Int])",
                                                      "kind": "OperEx",
                                                      "oper": "OPER_APP",
                                                      "args": [
                                                        {
                                                          "type": "((Seq([auxiliary_str: Str, important_int: Int])) => Bool)",
                                                          "kind": "NameEx",
                                                          "name": "Call_trace"
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "Int",
                                                      "kind": "NameEx",
                                                      "name": "i$2"
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "Str",
                                                  "kind": "ValEx",
                                                  "value": {
                                                    "kind": "TlaStr",
                                                    "value": "important_int"
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "type": "Int",
                                              "kind": "ValEx",
                                              "value": {
                                                "kind": "TlaInt",
                                                "value": 2
                                              }
                                            }
                                          ]
                                        },
                                        {
                                          "type": "Int",
                                          "kind": "ValEx",
                                          "value": {
                                            "kind": "TlaInt",
                                            "value": 1
                                          }
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "type": "Bool",
                                  "kind": "OperEx",
                                  "oper": "AND",
                                  "args": [
                                    {
                                      "type": "Bool",
                                      "kind": "OperEx",
                                      "oper": "EQ",
                                      "args": [
                                        {
                                          "type": "Int",
                                          "kind": "OperEx",
                                          "oper": "MOD",
                                          "args": [
                                            {
                                              "type": "Int",
                                              "kind": "NameEx",
                                              "name": "i$2"
                                            },
                                            {
                                              "type": "Int",
                                              "kind": "ValEx",
                                              "value": {
                                                "kind": "TlaInt",
                                                "value": 2
                                              }
                                            }
                                          ]
                                        },
                                        {
                                          "type": "Int",
                                          "kind": "ValEx",
                                          "value": {
                                            "kind": "TlaInt",
                                            "value": 1
                                          }
                                        }
                                      ]
                                    },
                                    {
                                      "type": "Bool",
                                      "kind": "OperEx",
                                      "oper": "EQ",
                                      "args": [
                                        {
                                          "type": "Int",
                                          "kind": "OperEx",
                                          "oper": "MOD",
                                          "args": [
                                            {
                                              "type": "Int",
                                              "kind": "OperEx",
                                              "oper": "FUN_APP",
                                              "args": [
                                                {
                                                  "type": "[auxiliary_str: Str, important_int: Int]",
                                                  "kind": "OperEx",
                                                  "oper": "FUN_APP",
                                                  "args": [
                                                    {
                                                      "type": "Seq([auxiliary_str: Str, important_int: Int])",
                                                      "kind": "OperEx",
                                                      "oper": "OPER_APP",
                                                      "args": [
                                                        {
                                                          "type": "((Seq([auxiliary_str: Str, important_int: Int])) => Bool)",
                                                          "kind": "NameEx",
                                                          "name": "Call_trace"
                                                        }
                                                      ]
                                                    },
                                                    {
                                                      "type": "Int",
                                                      "kind": "NameEx",
                                                      "name": "i$2"
                                                    }
                                                  ]
                                                },
                                                {
                                                  "type": "Str",
                                                  "kind": "ValEx",
                                                  "value": {
                                                    "kind": "TlaStr",
                                                    "value": "important_int"
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "type": "Int",
                                              "kind": "ValEx",
                                              "value": {
                                                "kind": "TlaInt",
                                                "value": 2
                                              }
                                            }
                                          ]
                                        },
                                        {
                                          "type": "Int",
                                          "kind": "ValEx",
                                          "value": {
                                            "kind": "TlaInt",
                                            "value": 0
                                          }
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  }
                ]
              },
              "decls": [
                {
                  "type": "(() => [auxiliary_str: Str, important_int: Int])",
                  "kind": "TlaOperDecl",
                  "name": "last_state$2",
                  "formalParams": [
                    
                  ],
                  "isRecursive": false,
                  "body": {
                    "type": "[auxiliary_str: Str, important_int: Int]",
                    "kind": "OperEx",
                    "oper": "FUN_APP",
                    "args": [
                      {
                        "type": "Seq([auxiliary_str: Str, important_int: Int])",
                        "kind": "OperEx",
                        "oper": "OPER_APP",
                        "args": [
                          {
                            "type": "((Seq([auxiliary_str: Str, important_int: Int])) => Bool)",
                            "kind": "NameEx",
                            "name": "Call_trace"
                          }
                        ]
                      },
                      {
                        "type": "Int",
                        "kind": "OperEx",
                        "oper": "Sequences!Len",
                        "args": [
                          {
                            "type": "Seq([auxiliary_str: Str, important_int: Int])",
                            "kind": "OperEx",
                            "oper": "OPER_APP",
                            "args": [
                              {
                                "type": "((Seq([auxiliary_str: Str, important_int: Int])) => Bool)",
                                "kind": "NameEx",
                                "name": "Call_trace"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            },
            "decls": [
              {
                "type": "((Seq([auxiliary_str: Str, important_int: Int])) => Bool)",
                "kind": "TlaOperDecl",
                "name": "Call_trace",
                "formalParams": [
                  
                ],
                "isRecursive": false,
                "body": {
                  "type": "Seq([auxiliary_str: Str, important_int: Int])",
                  "kind": "OperEx",
                  "oper": "TUPLE",
                  "args": [
                    {
                      "type": "[auxiliary_str: Str, important_int: Int]",
                      "kind": "OperEx",
                      "oper": "RECORD",
                      "args": [
                        {
                          "type": "Untyped",
                          "kind": "ValEx",
                          "value": {
                            "kind": "TlaStr",
                            "value": "important_int"
                          }
                        },
                        {
                          "type": "Untyped",
                          "kind": "NameEx",
                          "name": "$C$7"
                        },
                        {
                          "type": "Untyped",
                          "kind": "ValEx",
                          "value": {
                            "kind": "TlaStr",
                            "value": "auxiliary_str"
                          }
                        },
                        {
                          "type": "Untyped",
                          "kind": "NameEx",
                          "name": "$C$6"
                        }
                      ]
                    },
                    {
                      "type": "[auxiliary_str: Str, important_int: Int]",
                      "kind": "OperEx",
                      "oper": "RECORD",
                      "args": [
                        {
                          "type": "Untyped",
                          "kind": "ValEx",
                          "value": {
                            "kind": "TlaStr",
                            "value": "important_int"
                          }
                        },
                        {
                          "type": "Untyped",
                          "kind": "NameEx",
                          "name": "$C$28"
                        },
                        {
                          "type": "Untyped",
                          "kind": "ValEx",
                          "value": {
                            "kind": "TlaStr",
                            "value": "auxiliary_str"
                          }
                        },
                        {
                          "type": "Untyped",
                          "kind": "NameEx",
                          "name": "$C$29"
                        }
                      ]
                    },
                    {
                      "type": "[auxiliary_str: Str, important_int: Int]",
                      "kind": "OperEx",
                      "oper": "RECORD",
                      "args": [
                        {
                          "type": "Untyped",
                          "kind": "ValEx",
                          "value": {
                            "kind": "TlaStr",
                            "value": "important_int"
                          }
                        },
                        {
                          "type": "Untyped",
                          "kind": "NameEx",
                          "name": "$C$41"
                        },
                        {
                          "type": "Untyped",
                          "kind": "ValEx",
                          "value": {
                            "kind": "TlaStr",
                            "value": "auxiliary_str"
                          }
                        },
                        {
                          "type": "Untyped",
                          "kind": "NameEx",
                          "name": "$C$42"
                        }
                      ]
                    },
                    {
                      "type": "[auxiliary_str: Str, important_int: Int]",
                      "kind": "OperEx",
                      "oper": "RECORD",
                      "args": [
                        {
                          "type": "Untyped",
                          "kind": "ValEx",
                          "value": {
                            "kind": "TlaStr",
                            "value": "important_int"
                          }
                        },
                        {
                          "type": "Untyped",
                          "kind": "NameEx",
                          "name": "$C$54"
                        },
                        {
                          "type": "Untyped",
                          "kind": "ValEx",
                          "value": {
                            "kind": "TlaStr",
                            "value": "auxiliary_str"
                          }
                        },
                        {
                          "type": "Untyped",
                          "kind": "NameEx",
                          "name": "$C$55"
                        }
                      ]
                    },
                    {
                      "type": "[auxiliary_str: Str, important_int: Int]",
                      "kind": "OperEx",
                      "oper": "RECORD",
                      "args": [
                        {
                          "type": "Untyped",
                          "kind": "ValEx",
                          "value": {
                            "kind": "TlaStr",
                            "value": "important_int"
                          }
                        },
                        {
                          "type": "Untyped",
                          "kind": "NameEx",
                          "name": "$C$67"
                        },
                        {
                          "type": "Untyped",
                          "kind": "ValEx",
                          "value": {
                            "kind": "TlaStr",
                            "value": "auxiliary_str"
                          }
                        },
                        {
                          "type": "Untyped",
                          "kind": "NameEx",
                          "name": "$C$68"
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  ]
}